{"version":3,"sources":["webpack:///./src/app/pages/dashboard/dashboard.module.ts","webpack:///./src/app/pages/dashboard/dashboard.page.html","webpack:///./src/app/pages/dashboard/dashboard.page.scss","webpack:///./src/app/pages/dashboard/dashboard.page.ts"],"names":[],"mappings":"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","file":"pages-dashboard-dashboard-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { DashboardPage } from './dashboard.page';\nimport { CallerPage } from '../caller/caller.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DashboardPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [DashboardPage,CallerPage],\n  entryComponents: [CallerPage]\n})\nexport class DashboardPageModule {}\n","module.exports = \"\\n<ion-content padding no-bounce>\\n  <div *ngFor=\\\"let user of listofUser\\\">\\n    <ion-item>\\n      <ion-avatar slot=\\\"start\\\">\\n        <img *ngIf=\\\"user.gender == 'm'\\\" src=\\\"{{user.image}}\\\">\\n        <img *ngIf=\\\"user.gender == 'f'\\\" src=\\\"{{user.image}}\\\">\\n      </ion-avatar>\\n      <ion-label>{{user.name}}</ion-label>\\n      <ion-label>{{user.phone}}</ion-label>\\n      <span class=\\\"input-group-btn\\\">\\n          <ion-button id=\\\"callAudio\\\" (click)=\\\"audioCall(user)\\\">\\n            <ion-icon ios=\\\"ios-call\\\" md=\\\"md-call\\\"></ion-icon>\\n          </ion-button>\\n          <ion-button id=\\\"callVideo\\\" (click)=\\\"videoCall(user)\\\">\\n              <ion-icon ios=\\\"ios-videocam\\\" md=\\\"md-videocam\\\"></ion-icon>\\n            </ion-button>\\n      </span>\\n    </ion-item>\\n  </div>\\n  <legend id=\\\"my-number\\\"></legend>\\n</ion-content>\\n\"","module.exports = \"app-dashboard body > .container {\\n  padding: 60px 15px 0;\\n  color: #ffffff;\\n  min-height: calc(100% - 44px); }\\n\\napp-dashboard .footer > .container {\\n  padding-right: 15px;\\n  padding-left: 15px; }\\n\\napp-dashboard .footer .copy {\\n  padding-right: 20px;\\n  line-height: 28px;\\n  font-family: Roboto;\\n  font-weight: 200;\\n  font-size: 12px;\\n  color: #FFF; }\\n\\napp-dashboard .footer .copy img {\\n  height: 26px;\\n  margin-left: 0;\\n  vertical-align: middle; }\\n\\napp-dashboard code {\\n  font-size: 80%; }\\n\\napp-dashboard #accept {\\n  display: none; }\\n\\napp-dashboard #decline {\\n  display: none; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9taW5kbmVydmVzL0RvY3VtZW50cy9wb2MvaW9uaWMtNC1hdXRoYmFjay1hcGkvc3JjL2FwcC9wYWdlcy9kYXNoYm9hcmQvZGFzaGJvYXJkLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUVRLG9CQUFvQjtFQUNwQixjQUFjO0VBQ2QsNkJBQTZCLEVBQUE7O0FBSnJDO0VBT1EsbUJBQW1CO0VBQ25CLGtCQUFrQixFQUFBOztBQVIxQjtFQVdRLG1CQUFtQjtFQUNuQixpQkFBaUI7RUFDakIsbUJBQW1CO0VBQ25CLGdCQUFnQjtFQUNoQixlQUFlO0VBQ2YsV0FBVyxFQUFBOztBQWhCbkI7RUFrQlEsWUFBWTtFQUNaLGNBQWM7RUFDZCxzQkFBc0IsRUFBQTs7QUFwQjlCO0VBc0JRLGNBQWMsRUFBQTs7QUF0QnRCO0VBMEJRLGFBQWEsRUFBQTs7QUExQnJCO0VBNkJRLGFBQWEsRUFBQSIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2Rhc2hib2FyZC9kYXNoYm9hcmQucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiYXBwLWRhc2hib2FyZHtcbiAgICBib2R5ID4gLmNvbnRhaW5lciB7XG4gICAgICAgIHBhZGRpbmc6IDYwcHggMTVweCAwO1xuICAgICAgICBjb2xvcjogI2ZmZmZmZjtcbiAgICAgICAgbWluLWhlaWdodDogY2FsYygxMDAlIC0gNDRweCk7XG4gICAgICB9XG4gICAgICAuZm9vdGVyID4gLmNvbnRhaW5lciB7XG4gICAgICAgIHBhZGRpbmctcmlnaHQ6IDE1cHg7XG4gICAgICAgIHBhZGRpbmctbGVmdDogMTVweDtcbiAgICAgIH1cbiAgICAgIC5mb290ZXIgLmNvcHkge1xuICAgICAgICBwYWRkaW5nLXJpZ2h0OiAyMHB4O1xuICAgICAgICBsaW5lLWhlaWdodDogMjhweDtcbiAgICAgICAgZm9udC1mYW1pbHk6IFJvYm90bztcbiAgICAgICAgZm9udC13ZWlnaHQ6IDIwMDtcbiAgICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgICBjb2xvcjogI0ZGRjt9XG4gICAgICAuZm9vdGVyIC5jb3B5IGltZyB7XG4gICAgICAgIGhlaWdodDogMjZweDtcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDA7XG4gICAgICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7fVxuICAgICAgY29kZSB7XG4gICAgICAgIGZvbnQtc2l6ZTogODAlO1xuICAgICAgfVxuICAgICAgXG4gICAgICAjYWNjZXB0e1xuICAgICAgICBkaXNwbGF5OiBub25lO1xuICAgICAgfVxuICAgICAgI2RlY2xpbmV7XG4gICAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgICB9XG59Il19 */\"","import { Component, OnInit } from '@angular/core';\nimport { MenuController,ModalController } from '@ionic/angular';\nimport { AuthService } from 'src/app/services/auth.service';\nimport { User } from 'src/app/models/user';\nimport { AlertService } from 'src/app/services/alert.service';\nimport { CallerPage } from '../caller/caller.page';\n\ndeclare var iosrtc;\ndeclare var apiRTC;\ndeclare var apiCC;\ndeclare var jquery:any;\ndeclare var $ :any;\n\nconst STATE_WAIT = \"wait\";\nconst LABEL_CALL = \"Call\";\nconst COLOR_CALL = \"#5cb85c\";\n\n@Component({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.page.html',\n  styleUrls: ['./dashboard.page.scss'],\n})\nexport class DashboardPage implements OnInit {\n\n  user: User;\n  roomname: any;\n  session: any;\n  publisher: any;\n  distantNumber:any;\n  webRTCClient:any;\n  infoLabel:any;\n  buttonLabel:any;\n  buttonColor:any;\n  state:any;\n  ua : any;\n  connectedSession: any;\n\n  listofUser =[\n    //   { name:\"ROhit\",\n    //     phone:\"9876567890\",\n    //     online:true,\n    //     oneSignal:'ohsodhcosdcho',\n    //     gender:'m',\n    //     image:\"assets/img_avatar.png\"},\n    //     { name:\"Sahil\",\n    //     phone:\"9876567890\",\n    //     online:true,\n    //     gender:'m',\n    //     image:\"assets/img_avatar.png\",\n    //     oneSignal:'ohsodhcosdcho'},\n    //     { name:\"Arjun\",\n    //     phone:\"9876567890\",\n    //     online:false,\n    //     gender:'m',\n    //     image:\"assets/img_avatar.png\",\n    //     oneSignal:'ohsodhcosdcho'},\n    //     { name:\"Gayatri\",\n    //     phone:\"9876567890\",\n    //     online:true,\n    //     gender:'f',\n    //     image:\"assets/img_avatar2.png\",\n    //     oneSignal:'ohsodhcosdcho'},\n\n  ]\n  constructor(private menu: MenuController, private authService: AuthService, private alertService: AlertService,private modalController : ModalController) {\n    this.menu.enable(true);\n    this.ua = new apiRTC.UserAgent({\n        uri: 'apzkey:2f01c207aa0bec13538601445ef07204'\n      });\n      \n      this.infoLabel= \"Registration Ongoing...\";\n      this.buttonLabel = LABEL_CALL;\n      this.buttonColor = COLOR_CALL;\n      this.state = STATE_WAIT;\n  }\n\n  ngOnInit(): void {\n    \n    var self = this;\n    setTimeout(() => {\n        this.register()\n      }, 5000);\n\n  }\naudioCall(user){\n    console.log(user)\n    var contact = this.connectedSession.getOrCreateContact($(\"#number\").val());\n    var call = contact.call(null, {audioOnly: true});\n    if (call !== null) {\n        this.openModal(this.connectedSession,call,'outgoing');\n    } else {\n        console.warn(\"Cannot establish call\");\n    }\n}\n \nvideoCall(user){\n    console.log(user)\n    var contact = this.connectedSession.getOrCreateContact(Number(user.id));\n    var call = contact.call();\n    if (call !== null) {\n        this.openModal(this.connectedSession,call,'outgoing');\n    } else {\n        console.warn(\"Cannot establish call\");\n    }\n}\nasync openModal(connection, invite,status) {\n    console.log('lknn')\n    const modal = await this.modalController.create({\n      component: CallerPage,\n      componentProps: {\n        \"connection\": connection,\n        \"invite\": invite,\n        \"status\": status\n      }\n    });\n    return await modal.present();\n  }\n\n\n\nselectPhonebookItem(idItem) {\n    $(\"#number\").val(idItem);\n}\n\n updateAddressBook() {\n    console.log(\"updateAddressBook\");\n    //var contactListArray = connectedSession.getContactsArray(),\n    var contactListArray = this.connectedSession.getOnlineContactsArray(),i = 0;\n\n    console.log(\"contactListArray :\", contactListArray);\n\n    //Cleaning addressBook list\n    this.listofUser =[]\n    let userconnected ={\n        image:\"assets/img_avatar.png\",\n        name:\"Test\",\n        phone:\"\",\n        online:true,\n        gender:'m',\n        id:0\n    }\n    for (i = 0; i < contactListArray.length; i += 1) {\n        var user = contactListArray[i];\n        console.log(\"userId :\", user.getId());\n        //Checking if connectedUser is not current user befire adding in addressBook list\n        if (user.getId() !== apiRTC.session.apiCCId) {\n            userconnected['name'] =  `${userconnected['name']}-${user.getId()}`;\n            userconnected['phone'] =  user.getId();\n            userconnected['id'] =  user.getId();\n            this.listofUser.push(userconnected)\n        }\n    }\n}\n\n\n\n//==============================\n// REGISTER\n//==============================\nregister(){\n    var self = this;\n    this.ua.register({\n        userAcceptOnIncomingScreenSharingCall : true\n    }).then(function (session) {\n        // Save session\n        self.connectedSession = session;\n\n        // Display user number\n        document.getElementById('my-number').innerHTML = 'Your number is ' + self.connectedSession.id;\n\n        self.connectedSession\n            .on(\"contactListUpdate\", function (updatedContacts) { //display a list of connected users\n                console.log(\"MAIN - contactListUpdate\", updatedContacts);\n                self.updateAddressBook();\n            })\n            //==============================\n            // WHEN A CONTACT CALLS ME\n            //==============================\n            .on('incomingCall', function (invitation) {\n                self.openModal(self.connectedSession,invitation,'incoming')\n                //self.callInvitationProcess(invitation);\n            })\n            .on(\"incomingScreenSharingCall\", function (call) { //When client receives an screenSharing call from another user\n                console.log(\"screenSharing received from :\", call.getContact().id);\n                //self.setCallListeners(call);\n                self.openModal(self.connectedSession,call,'outgoing')\n                // self.addHangupButton(call.getId());\n            })\n            .on(\"incomingScreenSharingCallInvitation\", function (invitation) { //When client receives an screenSharing call from another user\n                console.log(\"incomingScreenSharingCallInvitation \");\n                self.openModal(self.connectedSession,invitation,'incoming')\n                //self.callInvitationProcess(invitation);\n            });\n\n    }).catch(function (error) {\n        // error\n        console.error('User agent registration failed', error);\n    });\n    }\n\n}\n"],"sourceRoot":""}