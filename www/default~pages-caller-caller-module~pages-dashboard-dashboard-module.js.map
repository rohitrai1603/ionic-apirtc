{"version":3,"sources":["webpack:///./src/app/pages/caller/caller.page.html","webpack:///./src/app/pages/caller/caller.page.scss","webpack:///./src/app/pages/caller/caller.page.ts"],"names":[],"mappings":"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","file":"default~pages-caller-caller-module~pages-dashboard-dashboard-module.js","sourcesContent":["module.exports = \"\\n<ion-content padding >\\n    <div  style=\\\"text-align: center\\\"> \\n    <div class=\\\"row\\\">\\n        <div id=\\\"remote-container\\\" >\\n        </div>\\n        <div id=\\\"local-container\\\">\\n        </div>\\n    </div>\\n    <div class=\\\"center-div\\\">\\n        <div id=\\\"hangupButtons\\\">\\n        </div>\\n    </div>\\n    <div class=\\\"row\\\" >\\n        <div id=\\\"streamButtons\\\">\\n        </div>\\n    </div>\\n    <div class=\\\"center-div\\\">\\n        <ion-button color=\\\"danger\\\" id=\\\"decline\\\">Decline call</ion-button>\\n        <ion-button color=\\\"success\\\" id=\\\"accept\\\">Accept call</ion-button>\\n    </div>\\n</div>\\n</ion-content>\"","module.exports = \".background-image {\\n  background: url('phone-ringing-gif-16.gif') 0 0/100% 100% no-repeat;\\n  text-align: center; }\\n\\n.center-div {\\n  bottom: 10px;\\n  position: absolute;\\n  margin: auto;\\n  width: 100%; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9taW5kbmVydmVzL0RvY3VtZW50cy9wb2MvaW9uaWMtNC1hdXRoYmFjay1hcGkvc3JjL2FwcC9wYWdlcy9jYWxsZXIvY2FsbGVyLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQTtFQUNFLG1FQUFpRjtFQUNqRixrQkFBa0IsRUFBQTs7QUFFcEI7RUFDRSxZQUFZO0VBQ1osa0JBQWtCO0VBQ2xCLFlBQVk7RUFDWixXQUFXLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9jYWxsZXIvY2FsbGVyLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIlxuLmJhY2tncm91bmQtaW1hZ2V7XG4gIGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi9hc3NldHMvcGhvbmUtcmluZ2luZy1naWYtMTYuZ2lmKSAwIDAvMTAwJSAxMDAlIG5vLXJlcGVhdDtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuLmNlbnRlci1kaXZ7XG4gIGJvdHRvbTogMTBweDtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBtYXJnaW46IGF1dG87XG4gIHdpZHRoOiAxMDAlO1xufVxuIl19 */\"","import { Component, OnInit, Input } from '@angular/core';\nimport { ModalController,NavParams } from '@ionic/angular';\ndeclare var apiRTC;\ndeclare var $ :any;\n\n@Component({\n  selector: 'app-caller',\n  templateUrl: './caller.page.html',\n  styleUrls: ['./caller.page.scss'],\n})\nexport class CallerPage implements OnInit {\n\n  @Input() invite: any;\n  @Input() status: any;\n  @Input() connection: any;\n  connectedSession1: any\n  bgimage= '../../../assets/phone-ringing-gif-16.gif'\n  // image = 'assets/phone-ringing-gif-16.gif'\n  constructor(\n    private modalController: ModalController,\n    private navParams: NavParams\n  ) { }\n\n  ngOnInit() {\n    console.log(this.navParams.data.invite,this.navParams.data.status)\n    this.connectedSession1 = this.navParams.data.connection;\n    if(this.navParams.data.status == 'incoming'){\n        this.callInvitationProcess(this.navParams.data.invite)\n    }else{\n        let call = this.navParams.data.invite\n        this.setCallListeners(call)\n        this.addHangupButton(call.getId())\n        this.hideAcceptDeclineButtons();\n    }\n    \n  }\n\n  // Dismiss Login Modal\n  dismissLogin() {\n    this.modalController.dismiss();\n  }\n\n  // On Register button tap, dismiss login modal and open register modal\n  \n  showAcceptDeclineButtons() {\n    document.getElementById('accept').style.display = 'inline-block';\n    document.getElementById('decline').style.display = 'inline-block';\n  }\n\n  hideAcceptDeclineButtons() {\n      console.log('call for hiding buttons')\n      $(\"#accept\").unbind( \"click\" );\n      $(\"#decline\").unbind( \"click\" );\n      document.getElementById('accept').style.display = 'none';\n      document.getElementById('decline').style.display = 'none';\n      \n  }\n\n  callInvitationProcess(invitation) {\n    var self = this;\n    invitation.on(\"statusChange\", function (statusChangeInfo) {\n        console.error('statusChangeInfo :', statusChangeInfo);\n\n        if (statusChangeInfo.status === apiRTC.INVITATION_STATUS_EXPIRED) {\n\n            console.error('INVITATION_STATUS_EXPIRED');\n            // Hide accept/decline buttons\n            self.hideAcceptDeclineButtons();\n            self.dismissLogin();\n        }\n    });\n\n    //===============================================\n    // ACCEPT OR DECLINE\n    //===============================================\n    // Display accept/decline buttons\n    self.showAcceptDeclineButtons();\n\n    // Add listeners\n    $(\"#accept\").click(function () {\n        //==============================\n        // ACCEPT CALL INVITATION\n        //==============================\n        invitation.accept()\n            .then(function(call) {\n                self.setCallListeners(call);\n                self.addHangupButton(call.getId());\n            });\n        // Hide accept/decline buttons\n        self.hideAcceptDeclineButtons();\n    });\n\n    $(\"#decline\").click(function () {\n        // Decline call invitation\n        invitation.decline();\n        // Hide accept/decline buttons\n        self.dismissLogin();\n        self.hideAcceptDeclineButtons();\n        \n    });\n}\n\nsetCallListeners(call) {\n  var self = this;\n call\n     .on(\"localStreamAvailable\", function (stream) {\n         console.log('localStreamAvailable');\n         //document.getElementById('local-media').remove();\n         self.addStreamInDiv(stream, 'local-container', 'local-media-' + stream.getId(), {width : \"160px\", height : \"120px\"}, true);\n         stream\n             .on(\"stopped\", function () { //When client receives an screenSharing call from another user\n                 console.error(\"Stream stopped\");\n                 $('#local-media-' + stream.getId()).remove();\n                 self.dismissLogin()\n             });\n     })\n     .on(\"streamAdded\", function (stream) {\n         console.log('stream :', stream);\n         let vh = window.innerHeight * 0.01;\n         self.addStreamInDiv(stream, 'remote-container', 'remote-media-' + stream.getId(), {width : '100%', height : '100%'}, false);\n     })\n     .on('streamRemoved', function (stream) {\n         // Remove media element\n         document.getElementById('remote-media-' + stream.getId()).remove();\n     })\n     .on('userMediaError', function (e) {\n         console.log('userMediaError detected : ', e);\n         console.log('userMediaError detected with error : ', e.error);\n\n         //Checking if tryAudioCallActivated\n         if (e.tryAudioCallActivated === false) {\n             $('#hangup-' + call.getId()).remove();\n         }\n     })\n     .on('desktopCapture', function (e) {\n         console.log('desktopCapture event : ', e);\n         $('#hangup-' + call.getId()).remove();\n     })\n     .on('hangup', function () {\n         $('#hangup-' + call.getId()).remove();\n     });\n}\naddHangupButton(callId) {\n    var self = this;\n    \n  $(\"#hangupButtons\").append('<ion-button id=\"hangup-' + callId + '\" (click)=\"hangupCall(' + callId + ')\" color=\"danger\" type=\"button\">Leave call</ion-button>');\n  setTimeout(() => {\n    $(`#hangup-${callId}`).click(function () {\n        // Decline call invitation\n        self.hangupCall(callId)\n        \n    });\n  }, 100); \n  \n}\n\naddStreamInDiv(stream, divId, mediaEltId, style, muted) {\n\n  var streamIsVideo = stream.hasVideo();\n  console.error('addStreamInDiv - hasVideo? ' + streamIsVideo);\n\n  var mediaElt = null,\n      divElement = null,\n      funcFixIoS = null,\n      promise = null;\n\n  if (streamIsVideo === 'false') {\n      mediaElt = document.createElement(\"audio\");\n  } else {\n      mediaElt = document.createElement(\"video\");\n  }\n\n  mediaElt.id = mediaEltId;\n  mediaElt.autoplay = true;\n  mediaElt.muted = muted;\n  mediaElt.style.width = style.width;\n  mediaElt.style.height = style.height;\n\n  funcFixIoS = function () {\n      var promise = mediaElt.play();\n\n      console.log('funcFixIoS');\n      if (promise !== undefined) {\n          promise.then(function () {\n              // Autoplay started!\n              console.log('Autoplay started');\n              console.error('Audio is now activated');\n              document.removeEventListener('touchstart', funcFixIoS);\n\n              $('#status').empty().append('iOS / Safari : Audio is now activated');\n\n          }).catch(function (error) {\n              // Autoplay was prevented.\n              console.error('Autoplay was prevented');\n          });\n      }\n  };\n\n  stream.attachToElement(mediaElt);\n\n  divElement = document.getElementById(divId);\n  divElement.appendChild(mediaElt);\n  promise = mediaElt.play();\n\n  if (promise !== undefined) {\n      promise.then(function () {\n          // Autoplay started!\n          console.log('Autoplay started');\n      }).catch(function (error) {\n          // Autoplay was prevented.\n          if (apiRTC.osName === \"iOS\") {\n              console.info('iOS : Autoplay was prevented, activating touch event to start media play');\n              //Show a UI element to let the user manually start playback\n\n              //In our sample, we display a modal to inform user and use touchstart event to launch \"play()\"\n              document.addEventListener('touchstart',  funcFixIoS);\n              console.error('WARNING : Audio autoplay was prevented by iOS, touch screen to activate audio');\n              $('#status').empty().append('WARNING : iOS / Safari : Audio autoplay was prevented by iOS, touch screen to activate audio');\n          } else {\n              console.error('Autoplay was prevented');\n          }\n      });\n  }\n}\n\nhangupCall(callId) {\n    console.log(\"hangupCall :\", callId);\n    $('#hangup-' + callId).remove();\n    //Getting call from ApiRTC call lists\n    var call = this.connectedSession1.getCall(callId);\n    call.hangUp();\n    this.dismissLogin();\n}\n\n//  releaseStream(streamId) {\n//     console.log(\"releaseStream :\", streamId);\n//     $('#relstream-' + streamId).remove();\n//     var stream = apiRTC.Stream.getStream(streamId);\n//     stream.release();\n// }\n\n    // addReleaseStreamButton(streamId) {\n    //     $(\"#streamButtons\").append('<input id=\"relstream-' + streamId + '\" class=\"btn btn-info\" type=\"button\" value=\"relstream-' + streamId + '\" onclick=\"releaseStream(' + streamId + ')\" />');\n    // }\n}\n"],"sourceRoot":""}